webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("router-link",{attrs:{to:{name:"Home"}}},[t._v("Home")]),t._v(" "),n("router-link",{attrs:{to:"/login"}},[t._v("Login")]),t._v(" "),n("router-link",{attrs:{to:"/user"}},[t._v("User")]),t._v(" "),n("router-view"),t._v(" "),t._m(2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{attrs:{id:"header"}},[e("h1",[this._v("Splootify")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",[e("a",{attrs:{href:"plan.html"}},[this._v("Project Plan")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{attrs:{id:"footer"}},[e("h3",[this._v("Created by: Kevin Bu and Sherry Feng")])])}]};var a=n("VU/8")({name:"App"},s,!1,function(t){n("w8Jy")},null,null).exports,i=n("/ocq"),r=n("fZjL"),l=n.n(r),c=n("Sazm"),u=n.n(c).a.initializeApp({apiKey:"AIzaSyBdLoyJdNa1hug8fmJVq08YQjfOjdsoyC0",authDomain:"cs290-trello-f0978.firebaseapp.com",databaseURL:"https://cs290-trello-f0978.firebaseio.com",storageBucket:"cs290-trello-f0978.appspot.com"}).database(),d=u.ref("songs"),v=u.ref("users"),p={name:"Home",firebase:{songs:d},data:function(){return{artist:"",song:""}},methods:{generateSong:function(){u.ref("songs").once("value").then(function(t){var e=t.val(),n=l()(e).length,o=Math.floor(Math.random()*n),s=l()(e)[o],a=e[s];console.log(s),console.log(a);var i=a.artist,r=(a.downvotes,a.genre),c=a.length,u=(a.uploads,a.upvotes,a.URL,document.getElementById("table")),d=document.createElement("tr"),v=document.createElement("th"),p=document.createElement("th"),h=document.createElement("th"),m=document.createElement("th");v.appendChild(document.createTextNode(s)),p.appendChild(document.createTextNode(i)),h.appendChild(document.createTextNode(r)),m.appendChild(document.createTextNode(c)),d.appendChild(v),d.appendChild(p),d.appendChild(h),d.appendChild(m),u.appendChild(d)})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),n("div",[n("button",{staticClass:"btn",attrs:{type:"button",id:"generateSong"},on:{click:t.generateSong}},[t._v("Get a song recommendation")]),n("br"),t._v(" "),n("br")]),t._v(" "),n("ol",{attrs:{id:"playlist"}}),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",[this._v("Welcome to your playlist management and song recommendation buddy")]),this._v(" "),e("h3",[this._v("Without an account, you can only access our basic guest features")]),this._v(" "),e("h3",[this._v("As a user, you can filter song generation criteria as well as save, downvote, and upvote songs")]),this._v(" "),e("h3",[this._v('To create an account, click the "user" tab in the upper right of this screen')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticStyle:{width:"100%"},attrs:{id:"table"}},[e("tr",[e("th",{attrs:{id:"categories"}},[this._v("Song")]),this._v(" "),e("th",{attrs:{id:"categories"}},[this._v("Artist")]),this._v(" "),e("th",{attrs:{id:"categories"}},[this._v("Genre")]),this._v(" "),e("th",{attrs:{id:"categories"}},[this._v("Length")])])])}]};var m=n("VU/8")(p,h,!1,function(t){n("iWlv")},"data-v-65b7ac55",null).exports,g={name:"Login",data:function(){return{email:""}},methods:{signIn:function(){console.log("signing..."),window.location="http://localhost:8000/login"}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"login"}},[e("h1",[this._v("This is an example of the Implicit Grant flow")]),this._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{id:"login-button"},on:{click:this.signIn}},[this._v("Log in with Spotify")])])},staticRenderFns:[]},_=n("VU/8")(g,f,!1,null,null,null).exports,w=(n("OAwv"),{name:"User",firebase:{songs:d,users:v},data:function(){return{added:[],artist:"",createEmail:"",createPassword:"",coins:0,downvoted:[],email:"kb@gmail.com",password:"",permission:"",saved:"",song:"",upvoted:""}},methods:{authenticate:function(t,e){console.log("authenticate test"),console.log(t),console.log(e);var n=t.split(".").join("<>");u.ref("users/"+n+"/password").once("value").then(function(t){var n=t.val();return e===n?console.log("Authenticated"):console.log("Not authenticated"),!0})},createAccount:function(t,e){console.log("createAccount test"),console.log(t),console.log(e);var n=t.split(".").join("<>");u.ref("users/"+n).once("value").then(function(t){return t.exists()?alert("This email already exists in our system"):u.ref("users/"+n).set({added:["null"],coins:10,downvoted:["null"],password:e,permission:"user",saved:["null"],upvoted:["null"]}),!0}),this.coins=10,this.permission="user",this.createEmail="",this.createPassword=""},viewProfile:function(){},changePassword:function(t,e){},resetPassword:function(){},viewMusic:function(){},addSong:function(t,e){var n=this.song.replace(/\s/,"%20"),o=this.artist.replace(/\s/,"%20"),s=window.location.hash;console.log(s);var a=s.substring(20);console.log(a),console.log(e+" "+t);var i="https://api.spotify.com/v1/search?q=artist:"+o+"%20name:"+n+"&type=track";console.log(i);fetch(i,{headers:{Authorization:"Bearer "+a}}).then(function(t){200!=t.status&&alert("Data input not valid, try again!"),console.log(t),console.log(t.results),console.log(t.artists),console.log(t.href)});var r=this.email.split(".").join("<>"),l=0,c=1,d=0,v=t.split(".").join("<>");v=(v=(v=(v=v.split("#").join(")(")).split("$").join("&&")).split("[").join("%%")).split("]").join("@@"),u.ref("songs/"+v).once("value").then(function(t){return t.exists()&&(l=t.val().downvotes,c=t.val().uploads+1,d=t.val().upvotes),u.ref("songs/"+v).set({artist:e,downvotes:l,genre:"null",length:"null",uploads:c,upvotes:d,URL:"null"}),u.ref("users/"+r+"/added/"+v).set({artist:e,downvotes:l,genre:"null",length:"null",uploads:c,upvotes:d,URL:"null"}),!0}),this.coins+=1,this.song="",this.artist=""},generateSong:function(t,e){this.coins-=1},saveSong:function(t,e){var n=this.email.split(".").join("<>"),o=t.split(".").join("<>");o=(o=(o=(o=o.split("#").join(")(")).split("$").join("&&")).split("[").join("%%")).split("]").join("@@"),u.ref("songs/"+o).once("value").then(function(t){var s=t.val().URL,a=t.val().downvotes,i=t.val().genre,r=t.val().length,l=t.val().uploads,c=t.val().upvotes;return u.ref("users/"+n+"/saved/"+o).set({URL:s,artist:e,downvotes:a,genre:i,length:r,uploads:l,upvotes:c}),!0})},upvoteSong:function(t,e){var n=this.email.split(".").join("<>"),o=t.split(".").join("<>");o=(o=(o=(o=o.split("#").join(")(")).split("$").join("&&")).split("[").join("%%")).split("]").join("@@"),u.ref("songs/"+o).once("value").then(function(t){var s=t.val().URL,a=t.val().downvotes,i=t.val().genre,r=t.val().length,l=t.val().uploads,c=t.val().upvotes;return u.ref("users/"+n+"/upvoted/"+o).set({URL:s,artist:e,downvotes:a,genre:i,length:r,uploads:l,upvotes:c}),!0})},downvoteSong:function(t,e){var n=this.email.split(".").join("<>"),o=t.split(".").join("<>");o=(o=(o=(o=o.split("#").join(")(")).split("$").join("&&")).split("[").join("%%")).split("]").join("@@"),u.ref("songs/"+o).once("value").then(function(t){var s=t.val().URL,a=t.val().downvotes,i=t.val().genre,r=t.val().length,l=t.val().uploads,c=t.val().upvotes;return u.ref("users/"+n+"/downvoted/"+o).set({URL:s,artist:e,downvotes:a,genre:i,length:r,uploads:l,upvotes:c}),!0})}}}),b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"authentication"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.createEmail,expression:"createEmail"}],staticClass:"email",attrs:{placeholder:"Enter your email"},domProps:{value:t.createEmail},on:{input:function(e){e.target.composing||(t.createEmail=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.createPassword,expression:"createPassword"}],staticClass:"password",attrs:{placeholder:"Create a password"},domProps:{value:t.createPassword},on:{input:function(e){e.target.composing||(t.createPassword=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn",attrs:{type:"button",id:"createAccount"},on:{click:function(e){t.createAccount(t.createEmail,t.createPassword)}}},[t._v("Create account")]),n("br"),t._v(" "),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"email",attrs:{placeholder:"Enter your email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password",attrs:{placeholder:"Enter your password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn",attrs:{type:"button",id:"login"},on:{click:function(e){t.authenticate(t.email,t.password)}}},[t._v("Login")]),n("br"),t._v(" "),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.song,expression:"song"}],staticClass:"song",attrs:{placeholder:"Enter song name"},domProps:{value:t.song},on:{input:function(e){e.target.composing||(t.song=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.artist,expression:"artist"}],staticClass:"artist",attrs:{placeholder:"Enter song artist"},domProps:{value:t.artist},on:{input:function(e){e.target.composing||(t.artist=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn",attrs:{type:"button",id:"add"},on:{click:function(e){t.addSong(t.song,t.artist)}}},[t._v("Add song")]),n("br"),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn",attrs:{type:"button",id:"add"},on:{click:function(e){t.saveSong("Yellow","Coldplay")}}},[t._v("Save song")]),n("br"),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn",attrs:{type:"button",id:"add"},on:{click:function(e){t.upvoteSong("Yellow","Coldplay")}}},[t._v("Upvote song")]),n("br"),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn",attrs:{type:"button",id:"add"},on:{click:function(e){t.downvoteSong("Yellow","Coldplay")}}},[t._v("Downvote song")]),n("br"),t._v(" "),n("br"),t._v(" "),n("input",{attrs:{type:"radio",name:"genre",value:"Pop"}}),t._v("Pop"),n("br"),t._v(" "),n("input",{attrs:{type:"radio",name:"genre",value:"Hip-Hop/Rap"}}),t._v("Hip-Hop/Rap"),n("br")])])},staticRenderFns:[]};var y=n("VU/8")(w,b,!1,function(t){n("Opdt")},null,null).exports;o.a.use(i.a);var j=new i.a({routes:[{path:"/",name:"Home",component:m},{path:"/login",name:"Login",component:_},{path:"/user",name:"User",component:y}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:j,components:{App:a},template:"<App/>"})},Opdt:function(t,e){},iWlv:function(t,e){},w8Jy:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.46f641084da2f15aa9d9.js.map